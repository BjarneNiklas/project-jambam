---
import cv from '../data/cv.json';

// Defensive checks to ensure cv and its properties are defined
const skills = cv && cv.skills ? cv.skills : [];
const frameworks = cv && cv.frameworks ? cv.frameworks : [];
const tools = cv && cv.tools ? cv.tools : [];
const databases = cv && cv.databases ? cv.databases : [];
---

<script type="module">
	if (typeof window !== 'undefined') {
		window.switchLangSkills = function(lang) {
			document.querySelectorAll('[data-lang-skills]').forEach(el => {
				el.style.display = el.getAttribute('data-lang-skills') === lang ? '' : 'none';
			});
		};
	}
</script>

<section id="skills" class="py-20 bg-slate-900/50">
	<div class="max-w-4xl mx-auto px-4">
		<div class="text-center mb-12">
			<h2 class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-teal-400 to-teal-300 bg-clip-text text-transparent">FÃ¤higkeiten & Technologien</h2>
			<div class="w-24 h-1 bg-gradient-to-r from-teal-500 to-teal-300 mx-auto rounded-full"></div>
		</div>

		<h3 class="text-2xl font-semibold text-teal-300 mb-4 text-center">Hauptskills</h3>
		<div class="skills-list flex flex-wrap justify-center gap-4 mb-8">
			{skills.map(skill => (
				<div class="skill-chip">{skill}</div>
			))}
		</div>

		<h3 class="text-2xl font-semibold text-teal-300 mb-4 text-center">Frameworks</h3>
		<div class="skills-list flex flex-wrap justify-center gap-4 mb-8">
			{frameworks.map(framework => (
				<div class="skill-chip">{framework}</div>
			))}
		</div>

		<h3 class="text-2xl font-semibold text-teal-300 mb-4 text-center">Tools</h3>
		<div class="skills-list flex flex-wrap justify-center gap-4 mb-8">
			{tools.map(tool => (
				<div class="skill-chip">{tool}</div>
			))}
		</div>

		<h3 class="text-2xl font-semibold text-teal-300 mb-4 text-center">Datenbanken</h3>
		<div class="skills-list flex flex-wrap justify-center gap-4 mb-8">
			{databases.map(database => (
				<div class="skill-chip">{database}</div>
			))}
		</div>
	</div>
</section>

<style>
.skills-list {
	margin-top: 1.5rem;
}
.skill-chip {
	background: rgba(20,184,166,0.13);
	color: #14b8a6;
	font-weight: 600;
	font-size: 1.1rem;
	border-radius: 0.7rem;
	padding: 0.7rem 1.3rem;
	box-shadow: 0 2px 8px 0 rgba(20,184,166,0.08);
	user-select: none;
	transition: background 0.2s, color 0.2s;
}
.skill-chip:hover, .skill-chip:focus {
	background: #14b8a6;
	color: #fff;
}
</style>
